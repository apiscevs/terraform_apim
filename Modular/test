To support the business requirement of 24/5 uptime with scalable processing, the initial approach considered removing the routing table and assigning a dedicated session per security. However, this would result in tens of thousands of sessions, introducing significant overhead for Azure Service Bus and making consumer scaling impractical â€” potentially requiring hundreds of parallel instances.

The diagram below outlines a more scalable solution: routing messages into a fixed number of session "buckets" using a hash function. This maintains ordering per security, limits the total session count, and enables parallel processing with a manageable number of consumers.